
@{
    Layout = null;
}

<!DOCTYPE html>
    <div>
        <div class="row-fluid" ng-init="ForLoginSuccess()">
            <div class="box bornomala span12">
                <div class="box-header">
                    <h2>
                        <i class="halflings-icon tasks"></i><span class="break"></span>Raw Materials For Sellable Product 
                    </h2>
                </div>
                <div class="box-content">
                    <!-- code strat  here-->
                    <div class="box-content">

                        <form class="form-horizontal" name="productusesInProductionHouse" ng-submit="productUseInProductionHouse()" novalidate>

                            <!-- select a product -->

                            <div class="control-group" ng-init="LoadProductionHouse()">
                                <label class="control-label" for="selectError3">Production House</label>
                                <div class="controls">
                                    <select name="productionHouse" id="selectError3" ng-model="store.ownStore" ng-options="x.store_id as x.store_name for x in GetAllProductionHouse" ng-change="GetProductionHouse(store.ownStore)" required>
                                        <option value="">-------SELECT--------</option>
                                    </select>
                                </div>
                            </div>

                            <!-- all raw product -->
                            <table class="table table-striped table-bordered bootstrap-datatable datatable" st-table="rowCollection" st-safe-src="PursableProducts">
                                <thead>
                                    <tr>
                                        <th colspan="5">
                                            Record Per pages:
                                            <select ng-model="itemsByPage" ng-options="item for item in itemsPerPage"></select>
                                            <div style="float: right;text-align: right;">  Search:<input st-search="" class="form-control" placeholder="global search ..." type="text" /></div>
                                        </th>
                                    </tr>
                                    <tr>
                                        <th>Select</th>
                                        <th>Product Name</th>
                                        <th>Quantity</th>
                                        <th>Available Quatity </th>
                                        <th>Unit</th>
                                    </tr>

                                </thead>
                                <tbody>
                                    <tr ng-repeat="product in rowCollection" ng-init="rowIndex = $index">

                                        <td>
                                            <input type="checkbox" ng-model="product.selected" ng-change="selectProduct(product,rowIndex)" />
                                        </td>

                                        <td class="center">
                                            <p>{{product.ProductName}}</p>
                                            <input type="hidden" ng-model="product.ProductInformation.ProductId" />
                                        </td>

                                        <td>
                                            <input type="text" ng-disabled="!product.selected" name="moduleName"
                                                   ng-model="product.Quantity[index = $index]" numbersonly
                                                   ng-change="checkAvailableproductValidation(product,store.ownStore,index)">

                                            <input type="hidden" ng-model="product.QuatityIndex" ng-init="product.QuatityIndex = rowIndex">
                                            <input type="hidden" ng-model="product.productsIndex">
                                        </td>

                                        <td>
                                            <p>{{product.AvilableQuatity}}</p>
                                        </td>

                                        <td>
                                            <p ng-model="product.Unit">{{product.Unit}}</p>
                                        </td>

                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="5" class="text-center">
                                            <div class="pagination pagination-centered">
                                                <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="5"></div>
                                            </div>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                            <!-- button -->
                            <div class="controls">
                                <button class="button success btn btn-primary">Add</button>
                            </div>
                            <!-- button end -->
                        </form>

                    </div> <!-- box content end -->
                </div><!--/span-->
                <!-- code end here-->
            </div>
        </div><!--/span-->

    </div><!--/row-->



